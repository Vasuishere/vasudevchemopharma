{% extends 'base.html' %}
{% load static %}

{% block title %}Our Products – Vasudev Chemo Pharma | MEA Triazine, H₂S Scavengers & Specialty Chemicals{% endblock %}
{% block meta_description %}Browse the full product range from Vasudev Chemo Pharma – MEA Triazine 78 (Vastreat 78), industrial chemicals, APIs, and specialty chemicals. Available for global export from Gujarat, India.{% endblock %}
{% block meta_extra %}
<meta name="keywords" content="MEA Triazine 78 products, H2S scavenger products, Vastreat 78, industrial chemicals India, specialty chemicals Gujarat">
{% endblock %}
{% block canonical %}https://vasudevchemopharma.com/products{% endblock %}
{% block og_title %}Our Products – Vasudev Chemo Pharma{% endblock %}
{% block og_description %}MEA Triazine 78, H₂S scavengers, industrial chemicals, and specialty chemicals for global industries.{% endblock %}
{% block og_url %}https://vasudevchemopharma.com/products{% endblock %}

{% block content %}
<!-- Page Header -->
<section class="page-header">
    <div class="container">
        <h1>Our Products</h1>
        <p>Comprehensive range of high-quality industrial chemicals, pharmaceutical APIs, and specialty compounds for diverse industries</p>
    </div>
</section>

<!-- Filter Section -->
<section class="filter-section">
    <div class="container">
        <div class="filter-controls">
            <input type="text" class="search-box" id="searchBox" placeholder="Search products..." aria-label="Search products">
        </div>
        <div class="categories-nav">
            <button class="category-btn active" data-category="all">All Products</button>
            {% for cat in categories %}
            <button class="category-btn" data-category="{{ cat.slug }}">{{ cat.label }}</button>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Products Section -->
<section class="section products-section">
    <div class="container">
        <h2 class="section-title">Our Product Portfolio</h2>
        <div class="products-grid" id="productsGrid">
            {% for product in products %}
            <div class="product-card" data-category="{{ product.category.slug }}">
                <div class="product-image">
                    <div class="product-bg"></div>
                    <div class="product-icon">{{ product.icon }}</div>
                </div>
                <div class="product-content">
                    <div class="product-category">{{ product.category.label }}</div>
                    <h3>{{ product.name }}</h3>
                    <p class="product-description">{{ product.description }}</p>
                    <div class="product-specs">
                        {% for spec in product.specs.all %}
                        <div class="spec-item">
                            <span class="spec-label">{{ spec.label }}:</span>
                            <span class="spec-value">{{ spec.value }}</span>
                        </div>
                        {% endfor %}
                    </div>
                    <div class="product-actions">
                        <a href="/#contact" class="btn-primary">Request Quote</a>
                        <a href="{% url 'product_detail' slug=product.slug %}" class="btn-secondary">View Details</a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Product Categories Overview -->
<section class="section product-category-section">
    <div class="container">
        <h2 class="section-title">Product Categories</h2>
        <div class="category-grid">
            {% for cat in category_overview %}
            <div class="category-card">
                <div class="category-icon">
                    <i class="{{ cat.icon_class }}"></i>
                </div>
                <h4>{{ cat.overview_title }}</h4>
                <p>{{ cat.overview_description }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    (function () {
        /* Category Filtering */
        var categoryBtns = document.querySelectorAll('.category-btn');
        var productCards = document.querySelectorAll('.product-card');

        categoryBtns.forEach(function (btn) {
            btn.addEventListener('click', function () {
                categoryBtns.forEach(function (b) { b.classList.remove('active'); });
                btn.classList.add('active');
                var category = btn.getAttribute('data-category');
                productCards.forEach(function (card) {
                    if (category === 'all' || card.getAttribute('data-category') === category) {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                });
            });
        });

        /* Search Functionality */
        var searchBox = document.getElementById('searchBox');
        if (searchBox) {
            searchBox.addEventListener('input', function (e) {
                var searchTerm = e.target.value.toLowerCase();
                productCards.forEach(function (card) {
                    var name = card.querySelector('h3').textContent.toLowerCase();
                    var desc = card.querySelector('.product-description').textContent.toLowerCase();
                    var cat = card.querySelector('.product-category').textContent.toLowerCase();
                    if (name.includes(searchTerm) || desc.includes(searchTerm) || cat.includes(searchTerm)) {
                        card.classList.remove('hidden');
                    } else {
                        card.classList.add('hidden');
                    }
                });
            });
        }

        /* Fade-in animation on scroll */
        if (window.IntersectionObserver) {
            var observer = new IntersectionObserver(function (entries) {
                entries.forEach(function (entry) {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            }, { threshold: 0.1, rootMargin: '0px 0px -100px 0px' });
            document.querySelectorAll('.section').forEach(function (s) {
                s.classList.add('fade-in');
                observer.observe(s);
            });
        }
    })();
</script>
{% endblock %}
